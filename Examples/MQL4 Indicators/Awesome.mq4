<metadata>
96aa1c2340381b76b4d82d0d6117482d7507592ae881c1ae9bf518250a28152408269caceac84666e28795fbdcbf0d62b5d1432a85eb55325d605b795c294236ff99e1ccf3cb9dbfd2ed5f61340899f43758d3b77f0a325e4124fcdc0b7d294c93e153206c05b9d6157bd0ed65479cad4c62e5d586a490ae1d218de3adcce08d6500754b54155f283c591b685a35aec3c1a4eed2210ea1cf90f10c61583dcdf397abea9e364f304011746c52f0b9c4aae185741d3e5d7918c8bc3659a0d24f73c6e9087c245da8d8a2c76a54cef2157988e92e405532d2a7bedf1176dfba3e00da97feaf4f03b581a894a48b7418ccadfe900e69d7a25a3b6d0a781d3907764a6100ec9990e41d756b041664122c3e56dfaba0d426560e34301f3e11bec9790e1661725ced80690c22563150afde2b5e0c63dbaf22472e5d9fb1d8b60a6fb8cc1639dae688a72746e590314593fb5c33f18395abe9d5ddbe5a358ee3fd8d1f7ef09eed94e6d8efacf49b94f983f3cfaed4baff862d117b547f1ca2cdc9a484f40465e78980f909375569e083137c711c0d60284de688dda9097a1e201529507f4221a7c8d0bd711cb9dcafc144304d3eccf2c4f8e88b650a4434dea76416ddb4600788e02c58d8abd6e816557a156b1b6e17cebc224b294e19713d491333c6997d5da290023263532510ab873717eea33d58cfbb25443e6f82f71d7292e6ddb84536f3d3f1a2f798a0c6097de295abcac1b3c7a225055c1f1a7592e0bccc86a8f8c4dff0cfaccda20474bbc2d6a4177eaec9dcb426525e2d2f1198a44622c5a4a1d5f7925718fb9de5a6eb99b7d2bfde8df90e67f09f026cbc82c4f6142d5977dceda99b84aa3507f4c473437b434f73002f4723afce65114f2a2768deb84d0ef2803a5f284996e2a1c8402f6f01142a211da9ccdfa77d0d672356378ffbb4d1b987e9d90e3f5b75c9f92b1af1dfa1917e4e93a35c6dbf83e5caa5c0ccb4e191e9adf1909feb462392ac764adeaedcbdea990c7f9ee999f6e99b52366e50caf608278cfce88923505a2934437b1417651b7f89b7af934124b8c01d7c315f175b79187816385faf911a4aa5d74b24683c592be180beda1f7a4230abe795f47618345303763d5cabcc53365f6347680c69037be786cda3b8f4d4b5e7899bfc221c231fff8dbbdee385b3d6cfbdc9ac204eb4d7284d572499a75b67eb995134f197a4c1097bb5d0244a4320f4911a24e8b389aca4f444168cc373347d2fc485eca1a683e3be065af2a269080c6f2a41f594afc8680d87f4b4e8523fb1c06e02d5e17f517b0b5132573a84b89eb189fbe98c0e684f2aa5d785e0c9a78be87c1996a8fac6ad825624cda8583ef491fc8e34515739583be5806013a29c073b1d7485eb96f25d341172492888fc244b95e79ed1b2c2b9cd5039b2ddf9972c5fccecacdf97f23b4b4322c9bbfa9b2c58c7a283be5e7c8bdf7200097c5530c5e7d0ee112dd9b582eb83ed1673557581efcaab167bfc996f52c7e53c703e57deb0dcb9f9d97f4ebd9f3f1f33507619dbb7204feb99ad9090b286ab2d1c7c4a5c6b97a0eed9efdd3d0c112789ab51710b781d697a03f39fc0a51f226b49427213314666bccb4f264226592de78ff5c8bf9d2213dffdbb9b205398e1afc22644e18e5d31102d92b03e0ca0917c4baa882d0d1167bdd44536751cd2b01e72f194380505270b5f3e4caadf90f50123003e2c103f10533f91f847296a0f201eaa96caa6d4bd7e101174d3f3f6980766f39e7e1b7f423a18f2be3e573759c9acccecae9f4a68b595482bed821a760b64ea98300dccee8da0cbfa645265526b5fc9fd7c480a3eb68e7f5dbf9f8efdd4a0156cacc0dabf0d30be9ceddd4664c5e5c2b50b6236522c58a8c04578d0f225141230785804771f66680595f7056a204cf5c8c0e2281a44752e19e8ca6e4e3a4cc8a1b5c640290b69adc12045fac798baf3a77a089ce9fd982200c6f8a19dab8439554029305e61041628ab97f79b1d74385617724767d7b9a2c383eeaecbd7ea31134905dfb696f82a4fa8886351c8eab090dfbcd2bd97fb610ea3d1714cecce6944a2942a1fdaef5f6c7c4a06242a0a582bc0b46a13234fb9dc300dd7f588b8193bddfdf38493fa2642d7a35c34f1ccf4d6437251734b6babd8e69f0b66e6844a25f49849740c2efdcfeadb497eeac8ffdfdaaca4cdea991d746002610de782f8c52705ebbf7d0f394c3451a98ba19f5c607e51741891f8b8d6ddb80e30b78b614ee78e47292743f198a4c789e82b5f117ec8ba551ae595a1d5f0993758bad41764d1ef99a5a0d3bbde24565e37b6d37e0dedd38bcd1c7daec2f68594f11b27547b31422e4b97e5bed7acc99ae9c2fc271b2d5ff590e49062368df4b9c9a0c5c6f80743fc9390e57012305cceabcbf7795627555336b7c3adf9136aeb9b92f7f6c8cef2771af293364e33719dfce89a7605e5a7d6b71c7fafc49ba5ac9c2b17250a6a07e584077fb3f16a0b66146c1fd7953253ec8fea81ac9219256702c1afa2c3f597abc726439bda59351376f486324684f7dee02c6ac2a3402c4132caaf84b8301fdcb99ff184e5791b6a06d9bc9cdd95f999fc8bf995e1097a3608e3dfc1a46907dbba4f2db1dd3d58783bb9d4fb8f8efc4039c6f86c2ac8a9167a1a694421e2dee7c81772056b7110abc9cba7f590490a0865abdf4537027b9aa4f6ca8bee6e00a5c4f99b1c70610498d1315f97e391e300618ae880e17f0dac9272341e7fff93abd867028cb0ba951673fa945c3d7012f79bb7d2bbf2345ae89c611336570f6d68095b29dae4e2ded8f7711c630c0c68fb8eea86c8addee0ea061e10bb3d0f5218785ae794fbdf43
</metadata>
//+------------------------------------------------------------------+
//|                                                      Awesome.mq4 |
//|                      Copyright _ 2005, MetaQuotes Software Corp. |
//|                                       http://www.metaquotes.net/ |
//+------------------------------------------------------------------+
#property  copyright "Copyright _ 2005, MetaQuotes Software Corp."
#property  link      "http://www.metaquotes.net/"
//---- indicator settings
#property  indicator_separate_window
#property  indicator_buffers 3
#property  indicator_color1  Black
#property  indicator_color2  Green
#property  indicator_color3  Red

//---- indicator buffers
double     ExtBuffer0[];
double     ExtBuffer1[];
double     ExtBuffer2[];

//+------------------------------------------------------------------+
//| Custom indicator initialization function                         |
//+------------------------------------------------------------------+
int init()
  {
   //---- drawing settings
   SetIndexStyle(0,DRAW_NONE);
   SetIndexStyle(1,DRAW_HISTOGRAM);
   SetIndexStyle(2,DRAW_HISTOGRAM);
   IndicatorDigits(Digits+1);
   SetIndexDrawBegin(0,34);
   SetIndexDrawBegin(1,34);
   SetIndexDrawBegin(2,34);
//---- 3 indicator buffers mapping
   SetIndexBuffer(0,ExtBuffer0);
   SetIndexBuffer(1,ExtBuffer1);
   SetIndexBuffer(2,ExtBuffer2);
//---- name for DataWindow and indicator subwindow label
   IndicatorShortName("AO");
   SetIndexLabel(1,NULL);
   SetIndexLabel(2,NULL);
//---- initialization done
   return(0);
  }
//+------------------------------------------------------------------+
//| Awesome Oscillator                                               |
//+------------------------------------------------------------------+
int start()
  {
   int    limit;
   int    counted_bars=IndicatorCounted();
   double prev,current;
//---- last counted bar will be recounted
   if(counted_bars>0) counted_bars--;
   limit=Bars-counted_bars;
//---- macd
   for(int i=0; i<limit; i++)
      ExtBuffer0[i]=iMA(NULL,0,5,0,MODE_SMA,PRICE_MEDIAN,i)-iMA(NULL,0,34,0,MODE_SMA,PRICE_MEDIAN,i);
//---- dispatch values between 2 buffers
   bool up=true;
   for(i=limit-1; i>=0; i--)
     {
      current=ExtBuffer0[i];
      prev=ExtBuffer0[i+1];
      if(current>prev) up=true;
      if(current<prev) up=false;
      if(!up)
        {
         ExtBuffer2[i]=current;
         ExtBuffer1[i]=0.0;
        }
      else
        {
         ExtBuffer1[i]=current;
         ExtBuffer2[i]=0.0;
        }
     }
//---- done
   return(0);
  }
//+------------------------------------------------------------------+

