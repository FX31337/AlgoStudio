<metadata>
a995e1de85fd056884e84b6be59350356416d7a4a4cd375857396459486a93a290be1b2b66442b0bec896a04086b127d7a1ef49d0a6437508bb691b324516c188cea25084d75a88a4e71714f28142f42d7b895f1b8cd0468e88d416190e60f6a0f7d651678114e21adc32e136042a0915d734f7f684a754b3a062d431c7d0c6137528bb53c6c6030ade2e3df1f30016f77166f023451a8960935770396efcbbbd3b6c6f898d1cea0c6a259303053b6d7b1c58ce36416cdf12a05bcc8423b05751174556b2a16bad695f4dbb5e087e89d85e4c7a06f0affc18cc1fbaa175b4470b28ea28dff936c0d1e70bcdbcbbe43220661f194546ac1fda9c84b3e1e6a254daac5a9db1c22bac889ec7d19a5c6600103714734dabb73014425e39079166f1be988e5a51b6217765d35412e6a05b997cfac9df21974635f654ae889a1d4d2a65e36d3bc89fbdae4bb87f291ec831875b6c6f392f49a453c1e20ffbc94fbbdd00e7e2f4e1b755b22e6daddf27b18f897bbd6f9897d1c96f8daa3586689b584e7315e7815a7ca0267fa944430e192cbf51e22c3ecccafcea1ff92aac7127780ee82f6d0a3e1dfc7fb7013deb1baca3b42d6a40d64690e95fd0175f98aefd11c5fb4dbc2b2a4dd790b98f1f394533b3a4e9bbbd77e2000dfed7343457533042e0e4612432c6f02defec785d8b9bfd3cdab2c49bb87eec153304e21e494f980e597731a284fadc5abdf9ae9556bc7fb05610968e5915a3fdb94d7b198db8cfe4a2f3e5f740083ea2748e987efd1ead81422f0de0131f6c0446ae3d13b0b1c2d1527c0fc4768b6d293f2dbaf41246b24c3a56c2fed9ff39692f30d79573e96f9026cb688ae92aacf5921d8a87c386e0f334710759ca2300089b887a9a191bf8e725c54642818a79779483408240b1a7f433baada0145791893e75e3bdae49ba7ef9f5736205392e1483f553a790b1a7efdc36559a58a0d7d6d0c5023186b8dfaf29d62105d39b18f5d61c3a6c8b00564127c5e12f5942b4505621e2076267e0cff90aefa1260e0813256caaf3c4e6d213958f698b5d29bee1c7dea8d17722b17406f2c49027ab7d66f011955244596f8e384d0ee58645e2cc0a5a3c57e1bd1a35732107e8fec7411b1c2d6e898a49eeca5c07e185336bac8b6d3afc186e58beea19f277cf0d54919f6a4004f4d0a683af5b42b66defb3b66164a72221a7bf192177c4f2edbbc98fdec9f3d613954f485cfa3b88c3b1598e87d1e117c1925edc27a081075ea8c4c299cee670293fd82e116738fb1605c745b99eb5b3ec4a2fb9ee99bc6a3254bc7a4610495e6704e013d4e27214f10747118593a40216f1b5837334176392d5da0d4fd943e51cca2097a0f2faad9ef8a9ded640585f7f89911658ce948756e4c2e7a43310a7fd8bd02201927734f6d01f69fe28c80e587a73c52f49549247f1a8fb2fddf80cc630a244a6500efcf45740b297c5c3c5f5738422edbb47c0e132ee1c3fed397a03d05f7c04c7a043c95ad7045725022029fec3d494b3254383257e2dfffddd5e5a6843c1c1c6b6b021d791561630bae93e1c3f4c63416f1d19ae9047ddbb680e2127d98f4221f7a58053792a3281fe6c4d8f88bfd88e1592a9ff6412364083d586d50eccedd8960122d58b4d104269da389b5cae51b778fe6402e187d2917526efe92274ed4ba0762e0c0eb85cfae8de09efb9ba62a08377b177eb1dff99cbf9f8cbd9fbda181781b9cf3c8a4e58ad8aaf3ce587a8ca166501e2b0d38a6954d7bc7e55272e497d3a71168c9a5f297f4c93d1f9aa8371591b1bec9c0a94024a0d42149ead70a284170d9fbdafa097a95ecaec36d0ffd922945dfe27f5d86b4f2c32710ae8cb5957d0b214887f45f367a184a26d3b6c6fb694bdb8fa5d795e041247755f5cb3b077c537c104c25117f8ce9c9f796aacde230597c1235518fe6a2c193f22551cfa04e3c5b146919f88c3a53cfa0610f3a497a44c2fe5d2e385d98ea442d0b6e9dee281613550061deb299ea690c96aa3d12ef9c7411aedc6f06b6d3bccf07396b574f3d5237d7a34410453c4e3ed7b28fb14400b5da4f3a88eaa4c8294ccaf6032cd0a20762bbcf386ce891ed9dd0b50e3054686b068fee3a4281c368090775007387c5b7d67c1fd8b3b6886d5d8db1f9d6cca1cfaecab24d0fb1d0ccbe3a4912507819ccaf09624e703c00aecbabc5ff9ee2801f73c3a67736224e15709fed81f51665f8c6632590f1402c3043c6a378449fb092f7a4ca80e18be9caa63b5ee9a8d0bcfb9e5b296713d6a53a044e729df87e101e7f51337814d3b6387bea874531b2c0c2bb97a94c0af8993a565023b0d5300c321ddabf6907600181e3d8b4bcd9561591fc0c78ddaf3e47e4da734f05603d534a2b82e0c0ac6a0fc78ee38d40341d6ff89943214c2d8efc6d53490f0465177b21526306b4886c430e6b98f64d2ca8ca35599bfef1b86c02a3d79ae884e50e6c2948c7b5536d48745976a8c5127dea8efe8bfb970267ffc14df30ebbec3dd7137d6cc53bf1d73ef7
</metadata>
//+------------------------------------------------------------------+
//|                                                          PPO.mq4 |
//|                                       Copyright © 2007 Tom Balfe |
//|                                                                  |
//| Percentage Price Oscillator                                      |
//| This is a momentum indicator.                                    |
//| Signal line is EMA of PPO.                                       |
//|                                                                  |
//| Follows formula: (FastEMA-SlowEMA)/SlowEMA                       |
//+------------------------------------------------------------------+
#property copyright "Copyright © 2007 Tom Balfe"
#property link      "redcarsarasota@yahoo.com"
//----
#property indicator_separate_window
#property indicator_buffers 2
//----
#property indicator_color1 SkyBlue
#property indicator_color2 Red
#property indicator_width1 2
#property indicator_width2 1
#property indicator_style2 2
//---- user changeable stuff
extern int FastEMA=12;
extern int SlowEMA=26;
extern int SignalEMA=9;
//---- two buffers
double     PPOBuffer[];
double     SignalBuffer[];
//+------------------------------------------------------------------+
//|                                                                  |
//+------------------------------------------------------------------+
int init()
  {
   SetIndexStyle(0,DRAW_LINE);
   SetIndexStyle(1,DRAW_LINE);
   SetIndexDrawBegin(1,SignalEMA);
   IndicatorDigits(Digits+1);
   SetIndexBuffer(0,PPOBuffer);
   SetIndexBuffer(1,SignalBuffer);
//----
   IndicatorShortName("PPO ("+FastEMA+","+SlowEMA+","+SignalEMA+")");
   SetIndexLabel(0,"PPO");
   SetIndexLabel(1,"Signal");
//----
   return(0);
  }
//+------------------------------------------------------------------+
//|                                                                  |
//+------------------------------------------------------------------+
int start()
  {
   int limit;
   int counted_bars=IndicatorCounted();
//---- last counted bar will be recounted
   if(counted_bars>0) counted_bars--;
   limit=Bars-counted_bars;
//---- (FastEMA-SlowEMA)/SlowEMA
//---- PPO counted in the 1st buffer
   for(int i=0; i<limit; i++)
      PPOBuffer[i]=(iMA(NULL,0,FastEMA,0,MODE_EMA,PRICE_CLOSE,i)-iMA(NULL,0,SlowEMA,0,MODE_EMA,PRICE_CLOSE,i))/
      iMA(NULL,0,SlowEMA,0,MODE_EMA,PRICE_CLOSE,i);
//---- signal line counted in the 2nd buffer
   for(i=0; i<limit; i++)
      SignalBuffer[i]=iMAOnArray(PPOBuffer,Bars,SignalEMA,0,MODE_EMA,i);
   return(0);
  }
//+------------------------------------------------------------------+