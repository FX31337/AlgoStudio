<metadata>
b884053a2d55a0cd731fd7f76315d9bcff8d0370076e6609d4bae6db597bbc8dd4fa370702209fbfa1c4c7a93e5ddfb02541630afa943255c7fa2e0cc4b1760210763d102b13fddf427dab95bd8188e5c7a8482ce89da9c57217b999ec9ac1a44c3ed2a191f83857325c6b563210e8d9f2dc94a4ae8c2b155f63d1bfa0c1ed80d8bd556bc292c0a9b1c7f59a7b0f4464d484553a7f16f698780cb797d598c9a6186e87ee78163f5833131859d2a47a1f720058396403bdd83408436cef8189e8076a781d390797ab730789f0abdbc6a3ac92da93bcd24622563f1477adcc3145640b97e599a55c73dca811681c6c0663fbc54e72c4a8ef8ef9975235295c7918d0b7482d132da3eede8fa0ecab9f417d3c131e72a4c5117fe186f782bedfe0870e6b82bcf1cd4322b0c57a0e28406d02ddaf9ca2d9e5bc932647394c7f0b345c5837cbb957692e122a49b2ddd9b46e1e27464628265f0b359da1c3ecbfdc2d42ff9250204223b7d91e67043a6d51cba884eb462b533e89ec69077f0b4635fbc532671a692247bfcc3818b8cc563ee98c2808dfafb3daeb9dc2ad7f0b7f5fb2c2aac5cba26f0153270929523192f390fc0b68cabf49257f1eeb9fafc67916553bd2f2f899bfcc1737d1a578104f2ae4c488e1f896a0d0c3b62a5e92b29bfac0e0b9ca127b4a27146465096b0ebc9c58351b743c4a0a633957c0a73f1f8aeb3640fd98ed9fcbaa7314583d1b27321dd6b51778563b2944f491315f493dee9d8ab4f8c427443d525323e69fc3b1583183e494fce397b1c2645a97abfed17e1dadc2d9a9e9906c1ed7be6f088de5d6a2d0a3605e4d718febadccbcc86f0a9ad55137e8abdcaef7920362b8ccaec7cfa08be5536df5c421178ba55564f3c1270997a52e1eb181dee7f2ce311ebadecaaba9ddc4a1e1aea2c46d2eb7c506637a1b85f1a8c1e58ac0aec2fc023edcb98cf490e0aaee563724502742f0ceccfc0f3eb29c5767744580ae7747122236062918f7cb2d02d6b3b8c06d1d4703137254206f0a97a9182493e3b9d861127f0c11660b64f98b6206e0dedae6a18e18686e0fd0a31c6f5f28aac5f280d0b4edd3f3cfd5ba047195e189f9ff8a83f7e8d686dd597c46161745d798eea94b192564c4897f5a80dd1549f3ba751b432758315e3df899d7a3731cdeaca9daf7aba39f7a55bad521545c2816665a2f6612e5db576bd6b350280061a1cf0448afce0a64ed8a350bcd9d186acea13e6a6a18d2b3f7932540d6a42c6084e5b4da4e297702b1d011768aeffec27b548aef85fd385926484e02bcdd690796f1fac45c6081f3acc9593ff491d3a1593c2e409ffc8feacfbc9ea0a8945426ef8ad7b191f4fd8fec894b25f3903c596658570c2a0fca9a5f0d0c436522cd9fcd8c5c11e5c090cd82deffaff796c5a62249e687a2c5f5900a7959056805c2b3365ae2d6e0cee6966f0c204d407ce3cc46346207fd9bd9bc5d2f90f5fa9494f7781d625c615d84abacdea3c62046bcd9691b284d284661023a5f7300e0de6f536f06355b24405c351774ea8be793513ee694bcf3e999a3d77d14b7d819772053d1f1bfcc17726c1cc7a62b59b2d3e793f590cef3597bf8be660715791f6c5134052779478ab6bfd3dcb5315fe683b191a6c87e1f7a178fea112c4c6e88c42b42bad497f23010a091ae8ce2c2cfacc3acea86c3acd1a3427f3210fed306372c1ab186536499aff5cc172192a3be9cb1913a4994e02a53eb872742d5e8446612220d2f18389fe87a130d69aedacea65964bb993b0a6e4c2909c9ba7d04ed8091f389e697fb5964e5c78cbec6f71720133175550b7d2e47d8ab076e4725066af89d7b46a3810450a4d69fea462392b094aa81bd654a5e327e173856f693e8d67945335f375ef19f2045a484f09e02635b367d188bb69fbda6eafb9297f991f45474af9e8caee2c25b38ddb2c5a96609b0c2764b9ab824094173f0c53e08f8dae0c0d6a57602354c7c10e18419243b1996a63c1e3919cabd5a330165b0c47018ffc276548dbc557787a7a3d0e49dfc91d6b43b54b0dcc5f8e8caa694dfee47703210fbdb8afc2d44e390c4ad86e483ef1c79a895391b4e1aeb999feab0d57f5dbb859ca06a45721e6108e18f5732d0ee3408406fff96d4bac3a7432a2e4d73125a2ec8a7dfad195618680b7fef867a15016fbfccc3fd2e12c6b5e78284f6a0c91b7e0c7f4d736c2a2f4ea3cf1b681a7f95a9220d4f3c44216416402922473d4e7947340898ea95f0493d2b7f8af376067c190e30eaae553ae49142205539e1844b77e3cc4e3c4227c2b67622bbc22e5e5a3f132d90ac365b22431d65bffd2746f684ddae8bc9cdacf4976e05b58bcdfdb68a436c7d107f1e59216f2d8cedfa88a1d2f4b6c9a82a4980eb1e20ab9741242b45ed8cd3b1630fb4d1d998aec2d6b343311c68c7b4dce21056ea8b80ec02712540013db39c2c497f11c5a45e3c7d115a3f6223eb87ee8bc9bbc0b42a595a642b17c1a409676a0b3153107c492cb3f0c4a92f5b99ebceb746784d0b53322b47bac95237350982ade782234d7312c2a0234fc5a08ccfc0ad651144368ef7427c320e2a4fa4cad1b046248ce07b1e8bc27f11deaaed9fd4b5d5b7e584ea980d33b6f02140acc0f784ceab97abcfe0acc9ff91a4c5d9bbddb1ceab347db1df077311630e6fcba949284d3fbf811e22c8e775182a45ff9ba2d7c1ad395cd6e8cd6048cc3414d269fdd1d8fb71455c89
</metadata>
//---------------------------------------------------
// Project: PPMA
// Language: MQL4
// Type: Indicator
// Author: 
// Company: 
// Copyright: 
// Created: 16.12.2009
//---------------------------------------------------
#property indicator_chart_window
#property indicator_buffers 2
#property indicator_color1 Blue
#property indicator_color2 Yellow

double pivot1[];
double curAvg[];



void init()
  {
  
         SetIndexBuffer(0, pivot1);
         SetIndexStyle(0,DRAW_LINE);
         
         
         
         SetIndexBuffer(1, curAvg);
         SetIndexStyle(1,DRAW_LINE);
         return(0);

  }
  
  int deinit()
  {
//----
   return(0);
  }





void start()
  {
         
         int counted = IndicatorCounted();
         
         if(counted < 0) return (-1);
         
         if (counted > 0) counted --;
         
         int limit = Bars - counted; 
         //int x = 6;
         //int y = x / 2;
         //Print("y = ", y);
  
         
         for (int i = 0; i < limit; i++)
         {
              
              double h1 = High[i];
              double h2 = High[i+2];
              double h3 = High[i+3];
              double h4 = High[i+4];
              double h5 = High[i+5];
             
        
              double l1 = Low[i];
              double l2 = Low[i+2];
              double l3 = Low[i+3];
              double l4 = Low[i+4];
              double l5 = Low[i+5];
             
        
              double c1 = Close[i];
              double c2 = Close[i+2];
              double c3 = Close[i+3];
              double c4 = Close[i+4];
              double c5 = Close[i+5];
              

              double piv1 = h1 + l1 + c1;
              piv1 = piv1 / 3.0000;

              pivot1[i] = NormalizeDouble(piv1, 4);
              
              double pivot2 = h2 + l2 + c2;
              pivot2 = pivot2 / 3.0000;
              double pivot3 = h3 + l3 + c3;
              pivot3 = pivot3 / 3.0000;
              double pivot4 = h4 + l4 + c4;
              pivot4 = pivot4 / 3.0000;
              double pivot5 = h5 + l5 + c5;
              pivot5 = pivot5 / 3.0000;
              
              double tempAvg;
              
              tempAvg = piv1 + pivot2 + pivot3 + pivot4 + pivot5;
              tempAvg = tempAvg / 5.0000;
                   
              curAvg[i] = NormalizeDouble(tempAvg, 4);
            
         }
         
         return(0);

        
  }

