<metadata>
f4c8b28d2f57b4d97e12b2926a1c83e631436c1fbed780ef036d310c5173bd8c29078fbf51730525d5b02749f3901f707c185c35c4aa84e3ccf1b694bbcefd89610786ab2b134d6f84bb536d635f3954c2ad74101e6b1d7171147f5fabdd97f2e092166511787817016f112c6a484e7fd5fbd5e5e2c0e2dcdae6563895f4c0ad2a4f734da5e8a2c1b0f76d04bed0f4980560661f5777e4a0a4dd701e3d5cd5b83e57d5b66c50a38c751bd6b7771abfda5c62af930672acd5dcace481526c3d74741ad8bc4b22a5c617766f1b96f9fc8eaf93f0dfc2b6364fc3b3c2a79ea0e1dde5896908eb85482f93e60968f691f3960c32400d0f5e2864a591c6fac4ebb1ddd3b26d03e28555209afbf3942441053b80bca0c182f74f3b6901a5ca542684bacef2bc932a4bd1a48ffb543ce38cc3b1152bb68af0930768d1bce5959dfcf6988af3e6d8a09c9fb04221ef808ce183f3a4c5244a0b721b254c703556fa950a678be6c6a31f7188fcddae7947ade016753275bbd29df31c706500aed75d7d6226bdc4305e26474528442d1774b8983871dfb13357b4ddd2b1a8c912662e41a6d4c8f4042be2817619492493fe8de8c5ab82f65526053b714de88b1f7082f295ecb9cb254c076079117a0e1e6d07394d71250a9dfe254a275711685c2ec2ab690ef9916b1f097aead46a5600646001b0c41174d59a563044074b392f4a84e535410a6380ef8be5437d37060630ebc5b687c2f0210f3c0e142484b4a8917e42e8c71e7a4d2ccfbb0e6bbaf5781ed59615672f4afa9bef9b1a73523d5c32093783bf7c19710983f33c7829485a2e6d085f616959c3f2cce276466455f5db3f0fd2e267575667b78b220de88d01793b4b00443958097d57325769af9321512b4acdbea5d6394e640bd9abf99df7c9427e634c54243b5a621171024c3b204f6012096db58b84b8731ca1d4d2a65a2a4431ea9e83bdf5ae3a1f99c9a8fad29d8bcc5a08e9a86e234b6e5b068cd02a632a44e88c8ee75c3f89e8473308673a487a095408576bebc4b2ddacd9413504746d18d8ac231d576b88ed96eec8a9ddb31c50e485e28c6e096658471792e0640bc89c55271273ea8e8eeb14660d419dfc59371374d1a47617395e533682beddf2b7d24b336a0bafc1a4e805641b753255dce208349fed0762c3a5385d9def94f1492703604227c6b5586699a5fa88d5b00d6b7a1f46341d782749f1923055241a9ec5bc9966367624440b591e70227637fcb1381df7aaebb72878bcdd3556b3d8e584d5b28bee8efd520e6409fd8c402c9eaa745a2656abc85d30c7fb230c2250b8ddb5d3f99c7e0c4227a4ca86e56d08033dd3ef2b043a489cf9b6d05d38fe8ca2c7345a90f3f396d1a26957370bd5bc630d6d091079d3b0a6c72c586906c6b45e112a5aacd8cda42e41244ac2b199b9b8cb80e5cfbf7f1e760425444531bcd91f22eac84701b4d564080675c8ada486f9c7e2de92fe741d3e50503560408de389e8224f5336a29fd4f6de92234a137dc2a71a3af8c999bbb6968fecd8b7a4c8b8d7ed9fb38edffd7a5706309eabae9b9fac6452f9db4161394ae0941168fa96c0a5e7da163484b42f0db19196e1e78e197df783452df0cd88aac2f0cceef9d955264f362845d2b0c9a62e42b18c9ab890a2ab9ac5f281a396b69ee85b326013b8d150327a16dfba85b82103eeba3745c9bc9bfe5d7fedd33e02f2dd83efd3ba0c626401053b2f13614edfb681ef0763274e197a70110672f19e4f3d98d7e4942450701995fa1678a9da0d331d2150231e7b8cfe9af3c3a6b2c186b8f0b6a5c4c5a94437244188b482ad6d1ea6c3681a2b42d4b11f6c033dcdf13547c0a50a7e732790e9f28282e7dfe13377b1de5b2ebddf7b17f297734fedc23b49c5a0e19597c3324bb8c80267c5fb1e228be650312d55a2e057365b29b5c6a1e35031503333584a744e7eead61a35a3ce83e24a3215577312a6d4e695c785157434579cf72e10ead61c79cba51f7e5c3eee82600543023c50f79273013541c6b55967bdfb84e5086486f52b4ef6cae6c93a5f9af40968f496630f8ce90c4d3d51ceabaddffd894e3d2618d3ef0c69e58bd2b37b199df11c7990d38ee34f3b92e096ef9ea0ecaab9d8c3af5221187d3509022d23461876e5845e3c8be74a2fdb98dbb6c4b0d6a4c8b149773f03f89d1876f0913b59c3afbedb125b3f5180f4097bd9b8e486c4a51f6d003e3274c1a0e58912611a7f330fffd01c798de32f4ea8ca85e93c5988c14d234b3ffb89086989eb62034133784669555f70cca1c3acbfdb245196faaecb8ab4f06285ce89da0d2b22dc5b329e47dfb3
</metadata>
//---------------------------------------------------
// Project: McGinley Dynamic
// Language: MQL4
// Type: Indicator
// Author: PFSoft LLC
// Company: PFSoft LLC /www.pfsoft.com/
// Copyright: (C) PFSoft LLC Dnepopetrovsk. Ukraine
// Created: 16.12.2009
//---------------------------------------------------

#property indicator_chart_window
#property indicator_buffers 1
#property indicator_color1 Red
#property indicator_width1 2


extern string     Note = "NumberOfBars = 0 means all bars";
extern int        NumberOfBars = 1000;
extern int        Periods = 12;
extern int        Smoothing = 125;


int               mult = 1;

double            buffer1[];
//+------------------------------------------------------------------+
//| Custom indicator initialization function                         |
//+------------------------------------------------------------------+
int init()
  {
      if ( Digits == 3 || Digits == 5 )
         mult = 10;
//---- indicators
      SetIndexBuffer(0,buffer1);
      SetIndexStyle(0,DRAW_LINE);
//----
   return(0);
  }
//+------------------------------------------------------------------+
//| Custom indicator deinitialization function                       |
//+------------------------------------------------------------------+
int deinit()
  {
//----
   
//----
   return(0);
  }
//+------------------------------------------------------------------+
//| Custom indicator iteration function                              |
//+------------------------------------------------------------------+
int start()
  {
   
   int limit;
   int counted_bars=IndicatorCounted();
//---- last counted bar will be recounted
   if(counted_bars>0) counted_bars--;
   if ( NumberOfBars == 0 ) 
      NumberOfBars = Bars-counted_bars;
   limit=NumberOfBars;

   for(int i=0; i<limit; i++)   
      {
         
         //  Ref(Mov(C,12,E),-1)+((C-(Ref(Mov(C,12,E),-1))) / (C/(Ref(Mov(C,12,E),-1))*125))
            
         buffer1[i] = 
         //  Ref(Mov(C,12,E),-1)
         iMA(NULL,0,Periods,0,MODE_EMA,PRICE_CLOSE,i+1) 
         // +
         +
         // ( (C - (Ref(Mov(C,12,E),-1)) )
         ( (Close[i] - (iMA(NULL,0,Periods,0,MODE_EMA,PRICE_CLOSE,i+1)))
         // /
         /
         // (C/(Ref(Mov(C,12,E),-1))*125))
         (Close[i] / (iMA(NULL,0,Periods,0,MODE_EMA,PRICE_CLOSE,i+1)) * Smoothing) );
          
      
      }
//----
   
//----
   return(0);
  }
//+------------------------------------------------------------------+