<metadata>
f9c56b5490e82c41b7db92b281f7b5d0f08291e2d2bb0c63b6d808359ebccbfaa8861323f4d6341489ec3d53c0a3cea124401970acc27611bd80f1d3cdb83145bcda54791129efcdead588b62418b3de86e9f5916a1f54387217705090e6fd986517c6b584edf9968ce28eb3775540719eb077472301556bd3ef88e63150c0ad4c294b75d187315e670b9bee4825abce2a0aa0f74f2a335a5334036bfd898aefed890929b9f8bfc980e5532103624126412497b74d1dff8ddcb5cfac8bee3e026e411e706f0ecca1a2c7b987b18d5c28e9906e1ee98cd4eac08997f9593d2d44debd711095e1aac59fedba86e9c67c086a1310605c396d53edd1fa967819335d6e0952277819a5c2395cd9e765285001d79be4d00438e8c7f8941776f29c4d2a0f7ab6d7a8cfc1a4f7c914287514ccb9dca86e06e28d1466734d063a795698f971045b2f89e10d62addf4779dbe7b6d588e7b2df5a2a7c1d204e87fe4c72a09cecc36c0fb7d895f8b6c61574fc9299e02c12625e791a39563459acc1d7b20f610d794e3dfdc33265f69350392e4968009bef9cf9d8bcc9e9b1fc99f61d6bc0a9fc9297f081a17f3e1660395c4133ee8ffb9c64016f4ff681375ff590097b43260d2d9ec8cda27c104f3a600d6d08aa8aacc5a4d72909b9ccc5b6cda886e23b1b93f21c6fe3c31f687a1f1d746700751d7e0a4734e6c8ae92c6e9a4c7cfa0325f107df396d5bb47332053655b536fe68587e867170178fa883a530265bfd787f36e1d0d33b28ec1eea8cb7d127606ceb7bac8ec8562056e0637430774a19fc1fd5236c8a93a4e4520a4ebc9af85c6e49665005c3d0b7f610894fb1876f7c992a36a5cfad4457487b5163882b0a2925a6aa9903804456aa9cd34551d6924413c731076397a2351cda87617c2b66e07026d026cc8f6d2eeeb8eea928cfcffbb3051cfbb046196a85e6ecffec7e9f4c4b4853917d2e2bf8fd6e67544cbf76e41f39682fa7b0bd490e18050244520b28c98a4bccc66073a493241b7c06c03a5d7f692794724183d1283f3debfa1d20073fb8cdab5b9cbf5910d331a26701f5d280773c5b52d58e692b886306b1f3a7d2dc89a9cd34304f2a0b6f7d29fa7829ec34f13420b92fcfb9f452c86e52d4ca2d64728e597770496ca6458a28d37580b7ed8acaddda1d4ff8b56684c7035505e266d0c87e93a767e1fd5bb5631457bbbeb40326708297d5a2848291b7f9ffaff8d2468e081046a89ee12670f6eb4d3690c477bab8496f36119abca9bf5175bc3a2d7b9b2d5ac927d411c6e482d7c1a90f56e1c7217f99733506a0f5c2f6b55102c93e12247452380e577050461d3bdfe9d73165769f9a213366d3d33616e217b3cf9ab9bda236e7752b1ece4b84e1e5a3b05661873b3d2284fb0d5f083a7fb214c5e2faac60236ac82a2d21774f19c6b57381786f44e2b6204ec8991e3ddb8d7b996f53e5b9da30834efc070025a3f4f294d2894e61b7efe90ed8e0b6eb5c6af91516d3f5668061175432afd9e09684236513e6416753a87f7f98d731adfb0ec82c9ba38182a591f7aafdfa6c7f88a4d2cf387680d6459c8eab3f56a0ba4c8dba84b2ebb99a8960e32b0dc2b42e18f3356d2f2026c95f4c7aaa2c77a47b99b420e5f3695fbb0d5567625146e4c91b1c7a4a5cab4d882ed6e1c79445e7c6d4002337c4da890fec8c3f2bb83457d92a45a78a8887102f2860a73bed2badf596462404171684a94b48ff85d343652e09489e1dae7d2f054672103745401726b121875492bafc0305c0b365f7d95a7bb8a80b775577d5d9bed7811b7c4573eb2d086ea117491ac8ba9acf8b5c7334698fdd8fac5fbdae6240bfd917f16cea046232b15d3ef7c102e477f11e7820d2dacc2a8c9d2bf99fc9ca1f4d62f63eb82721ccca93f1f4a7bac8e86a6abc87718c1ad8be4b0c25c61183ab895aa9bcef897a081b60f39eed7172182b3d7f59fbf1467334790e9b2de5c39f4c986a41626b4965878bdca08611571ee9a7911467b694be4d7436142623d4e58219cf14e2c422da9c5615cc8eaaf9dba8b5661456792b2295f7d143447d2bb8ae8b1dd86e3023fb99b9ecab3c1bfca5f3aa587380698a493bce78b21483c52f6934e707a467b54d4bddfb11773046ddbb8e9887f0b79161062e2ad6111f185a0c9d1be0c628af9437d1e22c1b230554230086197f24d3e68560046bedf92fe6a197015221ec2edbecd94f18ffd5e370f6a0576b8862e12cdbfcfaa1367df8b0c750f7fbcd9c2fc6d29214ea6d31371d1bd8aef1f23745bcfbd513462162672d1a87b0b99fc724cb28e4f22d6b7afd782c04a2bfc8e7407d99bfe9ff695ef84c6f85666f4c8f9d6066b80e1acd48bc92140deac43309edcaccdc2a113780b35635f76130769d2b3cfad771b9efb1352aac667024e3c89fdcdbef2cc93d57f1e365aed9e07626b57446b5a3f6806a7c657355e326e0ba0e19df1bcd97b096a1ec2b167599aa6e287583681e0b4d6b1dd0c693675620f1d69d6a4afd6340a3573b7d67d11f1824a2f033f0e21adc8711f6d0cc3a1117d1f7a4c0f771a2b5f9eec8ef7231d774b00654b252c4d85e71478a3c6cd8482ec81f54230fd9c43213f5e5527a9974c0a81e03b57abd8bbdeac90a08fe386157bf2930163375ba8cd064f7b1555210371e786e98bc5a43f4db789152926090a67d6b95733a7d282ee0a6fbe8040e1815169b33d9072523e69eec5bb01
</metadata>
//---------------------------------------------------
// Project: VWPA_Close
// Language: MQL4
// Type: Indicator
// Author: 
// Company: 
// Copyright: 
// Created: 16.12.2009
//---------------------------------------------------
#property indicator_chart_window
#property indicator_buffers 1
#property indicator_color1 Indigo
#property indicator_width1 3
#property indicator_width2 3
//---- input parameters
extern int n=1;
extern int shift=0;
//---- buffers
double ExtMapBuffer1[];
//+------------------------------------------------------------------+
//| Custom indicator initialization function                         |
//+------------------------------------------------------------------+
int init()
  {
//---- indicators
   SetIndexStyle(0,DRAW_LINE);
   SetIndexBuffer(0,ExtMapBuffer1);
   SetIndexShift(0,shift);
//----
   return(0);
  }
//+------------------------------------------------------------------+
//| Custom indicator deinitialization function                       |
//+------------------------------------------------------------------+
int deinit()
  {
//----
   
//----
   return(0);
  }
//+------------------------------------------------------------------+
//| Custom indicator iteration function                              |
//+------------------------------------------------------------------+
int start()
  {
   int    counted_bars=IndicatorCounted();
//----
   int i,bar;
   bar = Bars-counted_bars;
   
   for (i=0;i<=bar;i++){
      double sum1,sum2;
      int ntmp;
      sum1=0;
      sum2=0;
      for (ntmp=0;ntmp<=n;ntmp++){
         sum1=sum1+Close[i+ntmp]*Volume[i+ntmp];
         sum2=sum2+Volume[i+ntmp];
      }
      
       ExtMapBuffer1[i]=sum1/sum2;
   
   }
//----
   return(0);
  }
//+------------------------------------------------------------------+

