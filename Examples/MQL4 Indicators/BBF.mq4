<metadata>
e8d41c23641c177a385441614d3b157016648bf83851452a7f113a0776544372f9d75e6e0b29dafabfdaec8243200669dcb8137a78162e491f22d2f0b4c1344088eea68b261effddcef1645a1b27670a751a8aee00758fe31a7f143436403a5f0270cdbe0069523d5f317f42416363522d0381b1e2c0e6d8764a9ff12c4d1f7253362e10783ac684a1e74a76507f127c2647721f85e0d4ea310d4f3b91e8f3835f3a88b69ed70c62e387ea836d0ecaab5c28a4cbabd9033fb798394dc7be5727c4a13c0290ac026e99f8d4ba10778cf95e3f8ceb90f52c122d6026770844f2c6fbc7133cf29ef293741a8ee99fead0b16601eb8e625c201cfa9b4a3f97e390f8305fcbb97648360aa18e1b7aff8a0b7f573fb2dd5123a59bb18d98fb244bc2aff68672131876255c90ae172b220dd4b7791694f91c6c0b6a305e235a635dc2fe640794fbdcb1cba64a2f57394c383e4d8fb14f1f2654533cb0c6264f4723600531428babe094e088a2c7a7873a495534c1acf590d2f2f7936c0d6b1f4021c3e31e7f5023b393d3910b498fa3a0802e4cafda5d2989a9eb8fa7d5aecf98efa3c6b1d547674128dfb1e5c5a0d352370f7fd3b20f7d99f8e99d234683a32640fb9298fd1c70dfbb82a2dabbff91dfbbbd9d4e2b2647deadf79eb9dccab87d5dafdbf09f0c2ccebcc1a495f6016e7a1dc5ab82eb6913b8ddeacaddaa8ae2630642368fe77217e391456564143f4d620b2744ceaba989ec850e7d0626fe97cfa1d8f8701f681d8efc39198ae5ef9aef9bae8e3d52690f96b6c5a7d3b281ef96f274486e411576dab5a8c54b2692f7a8c6265253204678c4f80f6c87e8ef9ffc852153197084e3c3abf88c96e5d2ec734f634c197a6c0363137c05e7950b62f790d3bbe1954e3d023c92ae85e1badba6d242271a55cfa9b4f71f6dc4a14f2ed0a4d8b1e6890d630836ffce754348665061615308265a687a4a1222dae3fdc194bbd8bc86e7493db3d6e5aa046295d60371f1947011f0845f36543b9df3dfe196aa294c255d10603f7b53325f2ba4c149771f2febdac9e7b7874978be909faf7242a393ddec073baa8501642f5789f90b4fd3b284f0c4a182bc82be5f2f47262c5f3744cabd92fdb1c3e7837846b488bf905525a5c4d4a7bdce0e79214e8af860045e607e42cea1384dccb82c5c334687f35d634a11e2c71141db894b04ffb8acfef5b4ca876643e4b9cd91a3ead3bd294d0a63caa93e5fea9ec0af582aa7d43f63cbf7b29d335c0e7bf88ca8d8d3a692e64977350905600a721c7d29474b074021620cc0a7241aa1f1790b513e25710674e28330548de87c0eb0fcc7a62a445f384e3b05642f488eeb9ba7133c1471a3dbbedf355b0e42e687e48a2c4bf0ce271bd3a1583df4926207621087e23658dbb84e2b95e6c9f704389ceefd988fe9aacfb6c4422758367a199bfe241a2279ebce66366c3e5e11e9aea9fba8e9a4e91d38d98490cc3b6bdfbe7714563d49283f586e0bfd8e9cc0d2bf35445539dfeb694701711172afc25e623b14c7b5791ce086a6c3b0c2b5d0bed0b2d1cca982bc7c40d3fcccbed7b24721492c592bdfbae8869dfeb8dd7e0d516f6559d1b8e7899ffb3851abc85c3dfd894827f4866c23bdcdc4b08de496f93e501f6c7656f6850461a0d01e7fb0c2e485f286acc9261b6745e2b6493b166350358aa895ab112d660a5039bdd31a7f2808026c523374191075a79ac1e33c702e475e300f6a3a1a99a87a588aaafe9db6d999f56b040775ba878eacdbf6e0d1dcea1423dced142532048fb7dfee3416b797a5d6087c8df4f19d0065714ccbe991a17a58f3d36215224b4521cdb9b4dcc1fc2f0d6352361415352e5d8ff6365b17750f60422e6f528eac8fbd5d6cb98e62407353f482b8d1a9dadcb562001874cda8271af0d27a2ea5d795e0e386ebc956682c10082799f50d64b4da85e00739e2de4d21177e523c5237d9f9523c83e286eb2144eed3d5f7d29e8ee76c0223462c0cecdd496b3a1ae98aa8c7ee82fc93abd95e63cae8b69ba39540751f2a566547716a48d1f1cbb84337bac3503ccbaee1dccdef7242b0922c0cfa8d422be4807a0e88e0d5e8a4865f6ee7c58eae6516e79e87ea0361bdd27c10a29f6e4c47752b1a596ea785755582f421487c0f2148c2a0d0bc583da499a785baeef4863e4b5d384a68b38d88b4a48bcfa39cf5c4aafd98e5db261a274b0b620769f89d1d3dcca2aacb1578f89d3508f6d4c68aadc4bed0c5a0c4e483b1aa883414ec8fc1ae0f637a15e89a9aa73012ba97dee843764d78ead98dbb3b190e2eb1c291e54e37731f9bfecbf69ab84676cae863431562b4dda3c796e282ea80bd61431322a6846b4b186b9fe6214cacce9bf4472b360bc0e2300215241a2d3b195070e096640dcab9c4adf092e488781debd61a382e7aa2d04237acc96b498db3c0fc98b75834deb75937a8cdfcc2e7dbf59901684729b6d3cbebbbd51273aec3701574494e6c7c30bdd45f31751090b0ab98446653735132046b167af996592bdde07456c9e47b49daef4375c2e082a2a0d34531592028440c698eb313313101e1c396b6ccbb84ed395d6c18b5ddf6cb85a7b2833c1ef0d02a59f68f026f7c1ebed190fccff2b694ddef1b2ae5d2bd9f4767bec8325bd0a37910a8ca2b4786e308355072396dc6b4cbbec2a7efcdf9c744783718cca0056c3856751076487844efc06b021c720f6ba9c0ff9c7110ed998de26e1cca85e393c8bc533ad4bbb2dc483b043aa69a96e54421cbb9365f4c295c2f142a5a1cb7d6e48815662d486b57af80641784e17c0e3e57bfda5122a6985e62a1d3b4d1d6a27521433a7b0b583d625c87c35f30691c16740e6247223b078ea13b495e3be2962b7f41386010197cecd2122e7e13c5a42f57efade485126064174002e2832e4d8ce782bc3707c8f4301fb0dd1b7abcc474364a2b93e16e1db6f4bbda086b650ea19fb78b7d184729a3c23755a2ce94f16627096581e4dcae4a3ebccf3b053472bcddbfd36d1e81e47d4169461277cfa1ddbc294b2945c2a70d4c98f4caaf0e7c35410576fec0b68a8ce93759e889f09280ec70158ecdd5b883f7b9cbfc855b6563250e6f533f5320debbb985e4cb3d587d131475096b1b776a0f6526c8a54632c7b51168526cfac66a0f1779e687e684264aef8abff6422c0c78ccbec8a992f0a5c4addfbc829ddbd5b4e28eccbfdebb96aa486712771d738dec7012ef83a3c6276ef59b7602fd8f3e5fdcbe3756d8aad8e686bafad55c31e28dfb9faadf3854aecb447ad01ef55371f7aed602909f147e031b50
</metadata>
//---------------------------------------------------
// Project: BBF
// Language: MQL4
// Type: Indicator
// Author: 
// Company: 
// Copyright: 
// Created: 16.12.2009
//---------------------------------------------------
#property indicator_separate_window
#property indicator_buffers 4
#property indicator_color1 Aqua
#property indicator_color2 Red
#property indicator_color3 Red
#property indicator_color4 Yellow

extern int period=9;
extern int shift=0;
extern int method=0;
extern int price=0;
extern double deviation=1.5;
//---- buffers
double ExtMapBuffer1[];
double ExtMapBuffer2[];
double ExtMapBuffer3[];
double ExtMapBuffer4[];
//+------------------------------------------------------------------+
//| Custom indicator initialization function                         |
//+------------------------------------------------------------------+
int init()
  {
//---- indicators
   SetIndexStyle(0,DRAW_LINE);
   SetIndexBuffer(0,ExtMapBuffer1);
   SetIndexStyle(1,DRAW_LINE);
   SetIndexBuffer(1,ExtMapBuffer2);
   SetIndexStyle(2,DRAW_LINE);
   SetIndexBuffer(2,ExtMapBuffer3);
   SetIndexStyle(3,DRAW_LINE);
   SetIndexBuffer(3,ExtMapBuffer4);
//----
   return(0);
  }
//+------------------------------------------------------------------+
//| Custom indicator iteration function                              |
//+------------------------------------------------------------------+
int start()
  {
     int limit, counted_bars=IndicatorCounted();
     double ima, std;
     if(counted_bars<0) return(-1);
     if(counted_bars>0) counted_bars--;
     limit=Bars-counted_bars;
     for(int i=0; i<limit; i++)
       {
	    ima=iMA(NULL,0,period,shift,method,price,i);
       std=deviation*iStdDev(NULL,0,period,shift,method,price,i);
		 ExtMapBuffer1[i]=0;
       ExtMapBuffer2[i]=std;
       ExtMapBuffer3[i]=-std;
       ExtMapBuffer4[i]=Close[i]-ima;
       }
//----
   return(0);
  }
//+------------------------------------------------------------------+